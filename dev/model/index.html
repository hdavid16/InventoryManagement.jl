<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Simulation Model · InventoryManagement.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="InventoryManagement.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">InventoryManagement.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../events/">Sequence of Events</a></li><li><a class="tocitem" href="../policies/">Inventory Policies</a></li><li class="is-active"><a class="tocitem" href>Simulation Model</a><ul class="internal"><li><a class="tocitem" href="#Model-Assumptions"><span>Model Assumptions</span></a></li><li><a class="tocitem" href="#Model-Limitations"><span>Model Limitations</span></a></li><li><a class="tocitem" href="#Model-Inputs"><span>Model Inputs</span></a></li><li><a class="tocitem" href="#Model-Output"><span>Model Output</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Simulation Model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Simulation Model</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/hdavid16/InventoryManagement.jl/blob/master/docs/src/model.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Model"><a class="docs-heading-anchor" href="#Model">Model</a><a id="Model-1"></a><a class="docs-heading-anchor-permalink" href="#Model" title="Permalink"></a></h1><h2 id="Model-Assumptions"><a class="docs-heading-anchor" href="#Model-Assumptions">Model Assumptions</a><a id="Model-Assumptions-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Assumptions" title="Permalink"></a></h2><p>The following assumptions hold in the current implementation, but can be modified in future releases.</p><ul><li><code>Producers</code> produce material on demand (<a href="https://en.wikipedia.org/wiki/Build_to_order">make-to-order</a> policy).</li><li><code>Producers</code> can hold inventory. Downstream replenishment orders are fulfilled first with any on-hand inventory, and then via production only after there is no on-hand inventory left.</li><li>Replenishment orders can only be satisfied with current on-hand inventory or available production capacity.</li><li>Commited production orders count towards the inventory position of the downstream node, even if they haven&#39;t yet shipped (due to production lead time).</li><li>Production lead times are fixed and independent of the amount being produced.</li><li>Backlogging is only allowed at the <code>Markets</code>, it is not allowed for inventory replenishment decisions.</li><li>Transportation costs are paid to a third party (not a node in the network).</li></ul><h2 id="Model-Limitations"><a class="docs-heading-anchor" href="#Model-Limitations">Model Limitations</a><a id="Model-Limitations-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Limitations" title="Permalink"></a></h2><p>The following features are not currently supported:</p><ul><li>Inventory capacity limits at the nodes is not currently supported.</li><li><code>Producers</code> do not operate under a <a href="https://en.wikipedia.org/wiki/Build_to_stock">make-to-stock</a> policy since any material produced gets shipped downstream. However, this can be accomodated by adding a dumby node downstream of the <code>producer</code> that holds inventory produced by the <code>producer</code> with zero lead time in between the nodes. Thus, using a proper reorder policy, the <code>producer</code> can act as a <code>make-to-stock</code> system that pushes inventory to the inventory holding node.</li><li><code>Producers</code> do not have market demand. However, this can be modelled by adding a <code>market</code> node downstream of the <code>producer</code> with zero lead time in between the nodes.</li><li>Alternate bills of materials (see <a href="#graph-specific">Model Inputs</a>) for the same material are not currently supported. This is particularly relevant for chemical systems. However, the following workarounds can be done:<ul><li>If the alternate reaction pathway has a byproduct, then the main product can be included as a co-product in the bill of materials of the byproduct. For example: A system with 5 materials (<code>:A - :E</code>) can have two ways to produce <code>:A</code>, <code>:B + :C -&gt; :A</code> and <code>:D -&gt; :A + :E</code>. The column for material <code>:A</code> can have the bill of material: <code>[0 -1 -1 0 0]</code>. The column for material <code>:E</code> can have the bill of materials: <code>[1 0 0 -1 0]</code>. However, <code>:A</code> will only be produced by the second pathway if a request for <code>:E</code> is made.</li><li>Make a copy of the material to specify an alternate pathway. This will require specifying parameters for the copied material throughout the network.</li></ul></li><li>Capacity limitations on shared inventory among producer nodes (e.g., shared inventory tanks) cannot be enforced directly. This is because the shared inventory is its own node and feeds the inventory holding area in the producer node. Thus the total inventory is the inventory at the inventory node plus the inventory positions at the producers. Capacity limitations must be enforced manually via the reorder actions (see <a href="../examples/#Example-3">Example 3</a>).</li><li>If a <code>producer</code> can produce more than 1 material, it is possible to produce all materials it is capable of producing simultaneously. This does not account for resource constraints (e.g., single reactor can only do reaction 1 or reaction 2, but not both simultaneously). However, these can be enforced manually with the reorder actions (see <a href="../examples/#Example-3">Example 3</a>).</li></ul><h2 id="Model-Inputs"><a class="docs-heading-anchor" href="#Model-Inputs">Model Inputs</a><a id="Model-Inputs-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Inputs" title="Permalink"></a></h2><p>The supply network topology must be mapped on a network graph using <a href="https://github.com/JuliaGraphs/MetaGraphs.jl">MetaGraphs.jl</a>. The system parameters are stored in the network&#39;s metadata.</p><h3 id="Node-specific"><a class="docs-heading-anchor" href="#Node-specific">Node-specific</a><a id="Node-specific-1"></a><a class="docs-heading-anchor-permalink" href="#Node-specific" title="Permalink"></a></h3><p><code>Producers</code> will have the following fields in their node metadata:</p><ul><li><code>:initial_inventory::Dict</code>: initial inventory for each material (<code>keys</code>)</li><li><code>:inventory_capacity::Dict</code>: maximum inventory for each material (<code>keys</code>)</li><li><code>:holding_cost::Dict</code>: unit holding cost for each material (<code>keys</code>)</li><li><code>:supplier_priority::Dict</code>: (<em>only when the node has at least 1 supplier</em>) <code>Vector</code> of supplier priorities (from high to low) for each material (<code>keys</code>). When a request cannot be fulfilled due to insufficient productio capacity or on-hand inventory, the system will try to reallocate it to the supplier that is next in line on the priority list (if <code>env.reallocate == true</code>).</li><li><code>:production_cost::Dict</code>: unit production cost for each material (<code>keys</code>)</li><li><code>:production_capacity::Dict</code>: maximum production capacity for each material (<code>keys</code>).</li><li><code>:production_time::Dict</code>: production lead time for each material (<code>keys</code>).</li></ul><p><code>Distributors</code> will have the following fields in their node metadata:</p><ul><li><code>:initial_inventory::Dict</code>: initial inventory for each material (<code>keys</code>)</li><li><code>:inventory_capacity::Dict</code>: maximum inventory for each material (<code>keys</code>)</li><li><code>:holding_cost::Dict</code>: unit holding cost for each material (<code>keys</code>)</li><li><code>:supplier_priority::Dict</code>: <code>Vector</code> of supplier priorities (from high to low) for each material (<code>keys</code>). When a request cannot be fulfilled due to insufficient productio capacity or on-hand inventory, the system will try to reallocate it to the supplier that is next in line on the priority list (if <code>env.reallocate == true</code>).</li></ul><p><code>Markets</code> will have the following fields in their node metadata:</p><ul><li><code>:initial_inventory::Dict</code>: initial inventory for each material (<code>keys</code>)</li><li><code>:inventory_capacity::Dict</code>: maximum inventory for each material (<code>keys</code>)</li><li><code>:holding_cost::Dict</code>: unit holding cost for each material (<code>keys</code>)</li><li><code>:supplier_priority::Dict</code>: <code>Vector</code> of supplier priorities (from high to low) for each material (<code>keys</code>). When a request cannot be fulfilled due to insufficient productio capacity or on-hand inventory, the system will try to reallocate it to the supplier that is next in line on the priority list (if <code>env.reallocate == true</code>).</li><li><code>:demand_distribution::Dict</code>: probability distributions from <a href="https://github.com/JuliaStats/Distributions.jl">Distributions.jl</a> for the market demands for each material (<code>keys</code>). For deterministic demand, instead of using a probability distribution, use <code>[D]</code> where <code>D</code> is a <code>Number</code>.</li><li><code>:demand_frequency::Dict</code>: probability that demand will occur (value between <code>0.0</code> and <code>1.0</code>) for each material (<code>keys</code>)</li><li><code>:sales_price::Dict</code>: market sales price for each material (<code>keys</code>)</li><li><code>:demand_penalty::Dict</code>: unit penalty for unsatisfied market demand for each material (<code>keys</code>)</li></ul><h3 id="Edge-specific"><a class="docs-heading-anchor" href="#Edge-specific">Edge-specific</a><a id="Edge-specific-1"></a><a class="docs-heading-anchor-permalink" href="#Edge-specific" title="Permalink"></a></h3><p>All edges have the following fields in their metadata:</p><ul><li><code>:sales_price::Dict</code>: unit sales price for inventory sent on that edge (from supplier to receiver) for each material (<code>keys</code>)</li><li><code>:transportation_cost::Dict</code>: unit transportation cost per period for inventory in-transit for each material (<code>keys</code>)</li><li><code>:lead_time::Distribution{Univariate, Discrete}</code>: probability distributions from <a href="https://github.com/JuliaStats/Distributions.jl">Distributions.jl</a> for the lead times for each material (<code>keys</code>) on that edge. For deterministic lead times, instead of using a probability distribution, use <code>[L]</code> where <code>L</code> is a <code>Number</code>.</li></ul><h3 id="General-Network"><a class="docs-heading-anchor" href="#General-Network">General Network</a><a id="General-Network-1"></a><a class="docs-heading-anchor-permalink" href="#General-Network" title="Permalink"></a></h3><p>The graph metadata should have the following fields in its metadata:</p><ul><li><code>:materials::Vector</code> with a list of all materials in the system.</li><li><code>:bill_of_materials::Matrix</code>: bill of materials indicating the production recipies for the materials in the system. The row numbers correspond to the input materials and the column numbers to the output materials. The numbering matches that of the <code>materials</code> vector. The magnitude of each element is proportional to the production of one unit of output material. Each element can have one of three types of values:<ul><li><code>zero</code>: input not involved in production of output.</li><li><code>negative number</code>: input is consumed in the production of output.</li><li><code>positive number</code>: input is a co-product of the output.</li></ul></li></ul><h2 id="Model-Output"><a class="docs-heading-anchor" href="#Model-Output">Model Output</a><a id="Model-Output-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Output" title="Permalink"></a></h2><p>A <code>SupplyChainEnv</code> has the following fields:</p><ul><li><code>network::MetaDiGraph</code>: Supply Chain Network (metagraph)</li><li><code>markets::Array</code>: list of market nodes</li><li><code>producers::Array</code>: list of producer nodes</li><li><code>distributors::Array</code>: list of distribution nodes (excludes end distributors where markets exist)</li><li><code>materials::Array</code>: list of all material (material) names (strings)</li><li><code>bill_of_materials::Matrix</code> square matrix with BOM (rows = input materials, cols = output materials; indices follow materials list; positive value is a co-product, negative is a feedstock)</li><li><code>inv_on_hand::DataFrame</code>: timeseries On Hand Inventory @ each node at the end of each period</li><li><code>inv_pipeline::DataFramet</code>: timeseries Pipeline Inventory on each edge at the end of each period</li><li><code>inv_position::DataFrame</code>: timeseries Inventory Position for each node at the end of each period</li><li><code>replenishments::DataFrame</code>: timeseries Replenishment orders placed on each edge at the end of each period</li><li><code>shipments::DataFrame</code>: current shipments and time to arrival for each node</li><li><code>production::DataFrame</code>: current material production committed to an edge and lead time to ship. Note: byproducts are scheduled to go to the producing node <code>n</code> (edge <code>(n,n)</code>).</li><li><code>demand::DataFrame</code>: timeseries with realization of demand, sold units, unfulfilled demand, and backlog at each market</li><li><code>profit::DataFrame</code>: timeseries with profit at each node</li><li><code>reward::Float64</code>: reward in the system (used for RL)</li><li><code>period::Int</code>: period in the simulation</li><li><code>num_periods::Int</code>: number of periods in the simulation</li><li><code>discount::Float64</code>: time discount factor (interest rate)</li><li><code>backlog::Bool</code>: backlogging allowed if <code>true</code>; otherwise, unfulfilled demand is lost sales</li><li><code>reallocate::Bool</code>: the system try to reallocate requests if they cannot be satisfied if <code>true</code>; otherwise, no reallocation is attempted.</li><li><code>seed::Int</code>: random seed</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../policies/">« Inventory Policies</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 3 May 2021 16:57">Monday 3 May 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
